!function(a,b){"use strict";var c=function(c,d){var e,f=this,g=a(c),h=g.children(".mSwipe-sled"),i=h.children("li"),j=g.find(".mSwipe-next"),k=g.find(".mSwipe-prev"),l=a.extend({onFinishedSetup:function(){},duration:250,pagingThreshhold:100,supportsCsstransitions:!!(b||{}).csstransitions,supportsCsstransforms:!!(b||{}).csstransforms},d),m=0,n=i.length-1;h.attr({"aria-live":"polite"}).toggleClass("no-transition-support",!l.supportsCsstransforms).css("transition-duration",l.duration+"ms");var o,p={throttle:function(a,b){var c,d,e,g;return b||(b=50),function(){e=+new Date,g=arguments,c&&c+b>e?(clearTimeout(d),d=setTimeout(function(){c=e,a.apply(f,g)},b-(e-c))):(c=e,a.apply(f,g))}},easing:function(a){return a*(2-a)},transformOrLeftCssAttrite:function(a){return l.supportsCsstransforms?{transform:"translate("+a+"px, 0px)"}:{left:a+"px"}}},q=function(){h.addClass("disable-transition"),e=g.outerWidth(),i.css({width:e,height:"auto"}),o=Math.max.apply(null,i.map(function(){return a(this).outerHeight()}).get()),g.height(o),i.css("height",o),h.css(a.extend({width:e*(n+1)+"px",height:o},p.transformOrLeftCssAttrite(-e*m))),e!=g.outerWidth()?q():h.removeClass("disable-transition")},r=function(a,b){l.supportsCsstransitions||b?h.css(p.transformOrLeftCssAttrite(a)):h.animate(p.transformOrLeftCssAttrite(a),{duration:l.duration,queue:!1})},s=function(){g.toggleClass("firstSlide",0==m),k.prop("disabled",0==m),g.toggleClass("lastSlide",m==n),j.prop("disabled",m==n),h.children("li[aria-hidden!=true]").attr("aria-hidden","true").find(":enabled[tabindex!=-1], a").attr("tabindex","-1"),h.children("li").eq(m).attr({"aria-hidden":!1}).find("[tabindex=-1]").removeAttr("tabindex")};f.prev=function(){return m>0&&(m--,r(-e*m),s()),c},f.next=function(){return n>m&&(m++,r(-e*m),s()),c},f.reset=function(){return r(-e*m),c},f.slideCountChanged=function(){return i=h.children("li"),n=i.length-1,q(),c};var t,u,v,w=function(b){g.useTouch=!!b.originalEvent.touches,t=g.useTouch?b.originalEvent.touches[0]:b.originalEvent,g.pointerStartX=t.pageX,g.pointerStartY=t.pageY,g.pointerStartWidth=g.width(),g.pointerStartTotalWidth=g.pointerStartWidth*n,g.pointerMoveActive=!0,g.pointerLeft=0,h.addClass("disable-transition"),a(document.body).on("touchmove.pointeractive.mSwipe mousemove.pointeractive.mSwipe",x),a(document.body).on("touchend.pointeractive.mSwipe touchcancel.pointeractive.mSwipe mouseup.pointeractive.mSwipe mouseleave.pointeractive.mSwipe",y)},x=function(b){(!g.useTouch||b.originalEvent.touches)&&(b.preventDefault(),b.stopPropagation(),g.pointerMoveActive&&(t=b.originalEvent.touches?b.originalEvent.touches[0]:b.originalEvent,v=t.pageY-g.pointerStartY,Math.abs(v)>1&&scrollTo(a(document).scrollLeft(),a(document).scrollTop()-v),g.pointerLeft=-g.pointerStartWidth*m-(g.pointerStartX-t.pageX),g.pointerLeft>0?(u=g.pointerLeft/g.pointerStartWidth,r(p.easing(u>1?1:u)*(g.pointerStartWidth/8),!0)):n==m&&g.pointerStartTotalWidth<Math.abs(g.pointerLeft)?(u=(g.pointerLeft+g.pointerStartTotalWidth)/-g.pointerStartWidth,r(-(p.easing(u>1?1:u)*g.pointerStartWidth/8)-g.pointerStartTotalWidth,!0)):r(g.pointerLeft,!0)))},y=function(){if(g.pointerMoveActive){a(document.body).off(".pointeractive"),g.pointerMoveActive=!1,h.removeClass("disable-transition");var b=h.position().left,c=-g.pointerStartWidth*m;c>b&&b<c-l.pagingThreshhold&&n>m?f.next():b>c&&b>c+l.pagingThreshhold&&m>0?f.prev():f.reset()}},z=p.throttle(function(){q()},16),A=function(){g.on("click.mSwipe",".mSwipe-next",f.next),g.on("click.mSwipe",".mSwipe-prev",f.prev),g.on("touchstart.mSwipe mousedown.mSwipe",".mSwipe-sled > li",w),a(window).on("resize.mSwipe",z)};f.destroy=function(){g.off(".mSwipe"),a(window).off("resize.mSwipe",z),g.removeData("mSwipeSlider")},a(function(){q(),s(),A(),l.onFinishedSetup.apply(g,[f,g.get(0)])})};a.fn.mSwipeSlider=function(b){return this.map(function(d,e){var f=a(e),g=f.data("mSwipeSlider");if(g){if(g[b])return g[b].apply(this,Array.prototype.slice.call(arguments,1))}else f.data("mSwipeSlider",new c(this,b));return e})}}(jQuery,window.Modernizr);