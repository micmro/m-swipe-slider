!function(a,b){"use strict";var c=function(c,d){var e=this,f=a(c),g=f.children(".mSwipe-sled"),h=g.children("li"),i=f.find(".mSwipe-next"),j=f.find(".mSwipe-prev"),k=a.extend({onFinishedSetup:function(){},duration:250,pagingTouchLength:100,supportsCsstransitions:!!(b||{}).csstransitions,supportsCsstransforms:!!(b||{}).csstransforms},d),l=0,m=h.length-1;g.attr({"aria-live":"polite"}).toggleClass("no-transition-support",!k.supportsCsstransforms).css("transition-duration",k.duration+"ms");var n,o,p={throttle:function(a,b){var c,d,f,g;return b||(b=50),function(){f=+new Date,g=arguments,c&&c+b>f?(clearTimeout(d),d=setTimeout(function(){c=f,a.apply(e,g)},b-(f-c))):(c=f,a.apply(e,g))}},easing:function(a){return a*(2-a)},transformOrLeftCssAttrite:function(a){return k.supportsCsstransforms?{transform:"translate("+a+"px, 0px)"}:{left:a+"px"}}},q=function(){g.addClass("disable-transition"),o=f.width(),h.css({width:o,height:"auto"}),n=Math.max.apply(null,h.map(function(){return a(this).outerHeight()}).get()),f.height(n),h.css("height",n),g.css(a.extend({width:o*(m+1)+"px",height:n},p.transformOrLeftCssAttrite(-o*l))),g.css("transition"),g.removeClass("disable-transition")},r=function(a,b){k.supportsCsstransitions||b?g.css(p.transformOrLeftCssAttrite(a)):g.animate(p.transformOrLeftCssAttrite(a),{duration:k.duration,queue:!1})},s=function(){f.toggleClass("firstSlide",0==l),j.prop("disabled",0==l),f.toggleClass("lastSlide",l==m),i.prop("disabled",l==m),g.children("li[aria-hidden!=true]").attr("aria-hidden","true").find(":enabled[tabindex!=-1], a").attr("tabindex","-1"),g.children("li").eq(l).attr({"aria-hidden":!1}).find("[tabindex=-1]").removeAttr("tabindex")};e.prev=function(){return l>0&&(l--,r(-f.width()*l),s()),c},e.next=function(){return m>l&&(l++,r(-f.width()*l),s()),c},e.reset=function(){return r(-f.width()*l),c},e.slideCountChanged=function(){return h=g.children("li"),m=h.length-1,q(),c};var t,u,v,w=function(b){f.useTouch=!!b.originalEvent.touches,t=f.useTouch?b.originalEvent.touches[0]:b.originalEvent,f.pointerStartX=t.pageX,f.pointerStartY=t.pageY,f.pointerStartWidth=f.width(),f.pointerStartTotalWidth=f.pointerStartWidth*m,f.pointerMoveActive=!0,f.pointerLeft=0,g.addClass("disable-transition"),a(document.body).on("touchmove.pointeractive.mSwipe mousemove.pointeractive.mSwipe",x),a(document.body).on("touchend.pointeractive.mSwipe touchcancel.pointeractive.mSwipe mouseup.pointeractive.mSwipe mouseleave.pointeractive.mSwipe",y)},x=function(a){(!f.useTouch||a.originalEvent.touches)&&(a.preventDefault(),a.stopPropagation(),f.pointerMoveActive&&(t=a.originalEvent.touches?a.originalEvent.touches[0]:a.originalEvent,v=t.pageY-f.pointerStartY,Math.abs(v)>1&&scrollTo(scrollX,scrollY-v),f.pointerLeft=-f.pointerStartWidth*l-(f.pointerStartX-t.pageX),f.pointerLeft>0?(u=f.pointerLeft/f.pointerStartWidth,r(p.easing(u>1?1:u)*(f.pointerStartWidth/8),!0)):m==l&&f.pointerStartTotalWidth<Math.abs(f.pointerLeft)?(u=(f.pointerLeft+f.pointerStartTotalWidth)/-f.pointerStartWidth,r(-(p.easing(u>1?1:u)*f.pointerStartWidth/8)-f.pointerStartTotalWidth,!0)):r(f.pointerLeft,!0)))},y=function(){if(f.pointerMoveActive){a(document.body).off(".pointeractive"),f.pointerMoveActive=!1,g.removeClass("disable-transition");var b=g.position().left,c=-f.pointerStartWidth*l;c>b&&b<c+k.pagingTouchLength&&m>l?e.next():b>c&&b>c-k.pagingTouchLength&&l>0?e.prev():e.reset()}},z=p.throttle(function(){q()},16),A=function(){f.on("click.mSwipe",".mSwipe-next",e.next),f.on("click.mSwipe",".mSwipe-prev",e.prev),f.on("touchstart.mSwipe mousedown.mSwipe",".mSwipe-sled > li",w),a(window).on("resize.mSwipe",z)};e.destroy=function(){f.off(".mSwipe"),a(window).off("resize.mSwipe",z)},a(function(){q(),s(),A(),k.onFinishedSetup.apply(e,[e])})};a.fn.mSwipeSlider=function(b){return this.map(function(d,e){var f=a(e),g=f.data("mSwipeSlider");if(g){if(g[b])return g[b].apply(this,Array.prototype.slice.call(arguments,1))}else f.data("mSwipeSlider",new c(this,b));return e})}}(jQuery,window.Modernizr);